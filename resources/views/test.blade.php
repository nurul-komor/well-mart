<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <meta name="url" content="{{ env('APP_URL') }}">
    <style>
        #search-results {
            /* max-height: 500px; */
            /* overflow-y: auto; */
        }

        em {
            background: rgb(72, 232, 244)
        }
    </style>
    {{-- @vite(['resources/css/app.css', 'resources/js/app.js']) --}}
    <link rel="stylesheet" href="{{ asset('build/assets/app-0cca5b92.css') }}">
    <script src="{{ asset('build/assets/app-b5a11a08.js') }}"></script>
</head>


<body>
    <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Est molestias iusto ex, incidunt sapiente aspernatur
        explicabo excepturi fugiat. Facilis laboriosam cupiditate aspernatur officia ipsam iste harum repudiandae quod
        iure perferendis, rem a totam illo vero, voluptatum voluptatem delectus corporis odio! Officiis aliquam illum
        placeat amet autem quidem cumque nulla odio ad accusamus. Incidunt corporis tempore expedita excepturi saepe
        porro velit in pariatur dolor deserunt eaque culpa illo iure ut officiis eos obcaecati repudiandae, neque
        suscipit dicta. In possimus doloribus voluptates doloremque deleniti alias inventore, corrupti id, provident quo
        ex eum eius aliquid fugit, tenetur cumque qui officia laborum veritatis. Natus beatae perferendis reprehenderit
        adipisci perspiciatis rerum, atque ipsam cupiditate provident quam sapiente ipsum omnis saepe hic esse
        voluptate! Minus quasi incidunt, facilis accusantium neque necessitatibus officia, ab corporis officiis
        aspernatur atque vero cum. Inventore minus error perferendis et voluptate debitis reiciendis accusamus ad nihil
        beatae laboriosam eos, blanditiis sed atque consequuntur voluptates temporibus ducimus! Quis similique
        accusamus, expedita fuga laudantium laboriosam consequatur odio ipsum, minus perferendis rerum voluptates
        aliquam deserunt sed eaque quia, obcaecati voluptatibus animi unde voluptatem autem sit. Impedit vel
        consequuntur id eaque excepturi sint temporibus repellendus tenetur amet, eligendi non corrupti illo error dolor
        perferendis. Corporis eligendi odio veritatis quas perferendis sed rerum voluptates beatae vel libero eum natus,
        sint nam deserunt! Saepe deserunt quo quaerat provident enim, odio recusandae atque sapiente aliquid et, eum in
        quos illo inventore! Facere dolore quidem atque, sapiente impedit voluptates eaque labore harum temporibus
        commodi quas iusto quia nihil vitae voluptas doloribus eligendi pariatur, itaque voluptatum ea velit deleniti
        quibusdam! Error amet explicabo, optio officia sequi ad. Unde totam molestiae tenetur provident repellendus quo
        debitis soluta necessitatibus, ullam excepturi ratione nostrum, fugit aperiam ad adipisci, amet optio voluptatum
        deserunt vel! Blanditiis molestiae dolor natus recusandae odit velit suscipit doloribus neque ut harum, cum
        nostrum. Perferendis at unde provident id non veritatis consequuntur deserunt modi, accusantium, possimus
        accusamus. Aut consequuntur repudiandae corrupti, perferendis odio cumque consequatur recusandae cupiditate
        itaque vero quia excepturi ipsam quidem deleniti, tempora assumenda delectus velit doloribus quae. Ullam a
        maxime nam eos esse, autem dolorem tempora itaque, aperiam cupiditate facere dolorum harum nulla, vero molestiae
        quam vel aut nesciunt delectus excepturi. Nesciunt perferendis necessitatibus atque facilis nihil ex cumque
        maiores laudantium accusamus, dignissimos, temporibus eum facere nam culpa eius dolorum labore similique
        quisquam ut quasi quod reprehenderit corporis. Delectus omnis fugit repellat nesciunt suscipit saepe magni? A
        ipsa qui sequi unde dolorem eligendi voluptas laborum dicta possimus doloribus, error sint architecto ipsum
        ullam quidem sed aut. Eos quasi culpa veritatis tenetur dicta soluta ab cupiditate tempora earum neque cumque, a
        commodi, voluptatum facilis! Fuga vel magnam modi recusandae quos culpa error, neque suscipit ipsa hic. Sed iure
        aliquid numquam molestiae doloribus molestias. Maiores impedit et suscipit aut facere ut ipsum molestias
        voluptate eos quo laborum amet, nostrum exercitationem quam ullam cumque dolorem molestiae mollitia quaerat sint
        inventore placeat culpa unde. Assumenda, explicabo itaque? Iusto similique sunt, neque sit quaerat rem ipsam
        quibusdam id molestiae provident, voluptates consequatur maxime nostrum odit delectus dignissimos vel. Incidunt
        culpa cum, dolores beatae quo sapiente consequuntur error assumenda laborum, tenetur magni officia eius quis
        temporibus facere repellat. Aut rem labore ex cum laboriosam esse impedit. Unde mollitia ut illum officiis amet
        doloribus quidem quia nesciunt quasi aliquid qui officia ab, cupiditate, sit expedita sint accusantium dolorum.
        Ullam alias natus ad aliquam fugit, quis incidunt? Perspiciatis veritatis facilis asperiores deserunt eius, esse
        nesciunt numquam nobis, vero magni nulla doloribus architecto optio fugiat autem necessitatibus dignissimos rem
        voluptates repudiandae, iure odio. Impedit nam omnis illum mollitia minima, sed voluptatibus id pariatur quia
        architecto similique voluptatum necessitatibus. Praesentium nesciunt, ipsa autem porro veritatis sunt. Harum
        optio fuga corrupti autem! Necessitatibus, quaerat? Eaque quibusdam deleniti totam quidem delectus sunt, tenetur
        corporis, doloremque quos quasi nihil voluptate eveniet dicta veniam quas impedit est saepe! Dolore cum
        officiis, magni perspiciatis assumenda consequatur soluta suscipit sapiente perferendis eum impedit doloribus
        sit! A cupiditate consequatur adipisci eos esse in quod voluptates deleniti aut. Nam, tempore recusandae! Aut
        facere culpa delectus dolorem. Facere quae temporibus saepe, voluptate natus nam ipsam tenetur, nulla veritatis
        ea, sunt doloremque. Pariatur consequuntur doloribus sunt iusto at dolor odit quibusdam quae deserunt
        exercitationem et nisi eaque, iste officiis repellendus facilis ad iure temporibus voluptas in. Ut porro
        excepturi dolorum recusandae architecto ducimus, vel iusto repellat, sit dolorem quibusdam quisquam quasi unde
        consequatur, cum nam. Esse, nulla qui dolorum voluptatum repellat ab vel, aperiam adipisci expedita magni sed,
        nostrum ea iure quasi amet similique officia eligendi aliquam vitae. Deserunt blanditiis, aliquid illum dicta
        modi repellat natus tenetur consequuntur? Itaque, dolor quo expedita libero accusantium obcaecati, quam
        dignissimos reprehenderit quae nemo ex perferendis unde molestiae saepe hic quas accusamus? Ut, omnis. Pariatur
        esse reprehenderit, laudantium quisquam vitae provident, cupiditate earum iusto quod totam placeat temporibus
        aut! Consequuntur facilis dolor accusamus nulla ipsam dolore iste sequi! Soluta natus magnam eos voluptatem? Hic
        id consequuntur fugit neque accusamus, laudantium ea explicabo provident cum eveniet itaque reprehenderit nemo
        aliquam amet enim est vel dolore rem, impedit labore vitae. Excepturi repellendus ad ab, nihil natus aut
        consequatur magnam soluta pariatur totam, ullam delectus quis? Ducimus, omnis reiciendis deleniti labore tenetur
        doloribus tempora enim eligendi quis porro. Repellat exercitationem error odit, blanditiis illo nihil laudantium
        id distinctio, nam facilis obcaecati modi, dolorum mollitia asperiores a. Dolores culpa unde doloremque numquam
        sit exercitationem, sequi maiores neque quibusdam aspernatur laboriosam minus animi est? Velit eaque magni,
        totam neque et quas quasi exercitationem cumque voluptas ipsum sed, amet expedita a, praesentium voluptate
        blanditiis culpa explicabo ipsa omnis delectus! Quidem vel itaque incidunt deserunt laboriosam culpa at sed
        ipsam provident fuga! Molestias incidunt facilis ut autem cumque modi a voluptate nisi eos alias illo,
        architecto velit quibusdam dignissimos ducimus delectus iure natus eligendi inventore consequatur! Vel quasi
        dolore nobis quibusdam molestiae quisquam officia neque voluptate cum ipsum. Earum necessitatibus, repudiandae
        quasi dolorum cupiditate minus id vel fuga consequatur illum aspernatur enim perferendis odit aut ad blanditiis!
        Aspernatur animi illo nam unde excepturi voluptate officiis, delectus ducimus repellendus expedita?
    </p>
    <!-- HTML -->
    <div class="fixed top-0 left-0 h-full w-full pt-10 px-5  bg-blue-100/30">
        <div class="px-4 w-full mx-auto  md:max-w-[600px] bg-gray-100  py-3 rounded-2 max-h-[85vh] ">

            <input type="text"
                class="w-full py-3 px-3 rounded border-0 ring-4 ring-green-300 focus:ring-green-400 focus:ring-4"
                id="search-input">
            <div id="search-results"
                class=" z-10 min-h-12 mt-4 rounded-md   max-h-[75vh] overflow-y-scroll small-scrollbar flex flex-col gap-4">
                <!-- Results will be rendered here -->
                <a class="w-full flex p-3 bg-white hover:bg-commonPrimary hover:text-white rounded">
                    <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80"
                        alt="" class="h-[70px] w-[70px] object-cover rounded shadow">
                </a>
                <a href=""
                    class="w-full flex p-3 bg-white text-gray-600 cursor-pointer hover:bg-commonPrimary hover:text-white rounded">
                    <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80"
                        alt="" class="h-[70px] w-[70px] object-cover rounded shadow ">
                    <div class="px-5 py-2">
                        <p class="font-montserrat font-bold text-limit-1 leading-3">Product Name</p>
                        <p class="text-limit-1 leading-3">Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                            Quas, culpa!
                        </p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Add this script to your view -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            let url = $("meta[name='url']").attr('content')
            console.log(url)
            const searchInput = $('#search-input');
            const searchResults = $('#search-results');
            let products
            let news;

            searchInput.on('input', function() {
                const query = $(this).val();
                if (query.length >= 1) {
                    $.ajax({
                        url: "/search" + "/" + query,
                        method: 'GET',
                        data: {
                            query: query
                        },
                        success: function(response) {
                            searchResults.empty();
                            if (response.total > 0) {
                                $.each(response.results, function(index, value) {
                                    if (value.url == '/news/') {
                                        news += (`<a href="${value.url+value.title}" class="w-full flex p-3 bg-white text-gray-600 cursor-pointer hover:bg-commonPrimary hover:text-white rounded">
                                            <img src="${url}/${value.image}"
                                                    alt="" class="h-[70px] w-[70px] object-cover rounded shadow ">
                                             <div class="px-5 py-2">
                                                  <p class="font-montserrat font-bold text-limit-1 leading-3">${value.title}</p>
                                                    <p class="text-limit-1 leading-3">Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                                                   Quas, culpa!
                                                  </p>
                                               </div>
                                           </a>`)
                                    } else if (value.url ==
                                        '/products/singleProduct/') {
                                        products += (`<a href="${value.url+value.product_code}" class="w-full flex p-3 bg-white text-gray-600 cursor-pointer hover:bg-commonPrimary hover:text-white rounded">
                                            <img src="${url}/${value.productImage}"
                                                    alt="" class="h-[70px] w-[70px] object-cover rounded shadow ">
                                             <div class="px-5 py-2">
                                                  <p class="font-montserrat font-bold text-limit-1 leading-3">${value.productName}</p>
                                                    <p class="text-limit-1 leading-3">Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                                                   Quas, culpa!
                                                  </p>
                                               </div>
                                           </a>`)
                                    }

                                })
                                searchResults.html(news + products)
                            } else {
                                searchResults.html(
                                    '<p class="px-4 py-2 text-gray-800">No results found.</p>'
                                );
                            }
                            searchResults.show();
                        },
                        error: function(xhr) {
                            console.log(xhr.responseText);
                        }
                    });
                } else {
                    searchResults.hide();
                }
            });

            $(document).on('click', function(event) {
                if (!$(event.target).closest('#search-results').length && !$(event.target).closest(
                        '#search-input').length) {
                    // searchResults.hide();
                }
            });
        });
    </script>

</body>

</html>
